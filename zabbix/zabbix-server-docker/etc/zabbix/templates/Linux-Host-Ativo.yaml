zabbix_export:
  version: '7.0'
  template_groups:
    - uuid: b1a65eeba3cc4c9fb198e8f18f433839
      name: 'Templates/Operating Systems'
  templates:
    - uuid: 4547779c62f945d78f28a3e4d23e8bdf
      template: 'Linux Host  - Ativo'
      name: 'Linux Host  - Ativo'
      templates:
        - name: 'Template ICMP Ping'
      groups:
        - name: 'Templates/Operating Systems'
      items:
        - uuid: 4ed880293476480286fe768d041773b3
          name: 'Maximum number of opened files'
          type: ZABBIX_ACTIVE
          key: kernel.maxfiles
          delay: 24h
          history: 1w
          trends: 180d
          description: 'It could be increased by using sysctrl utility or modifying file /etc/sysctl.conf.'
          tags:
            - tag: Application
              value: OS
        - uuid: 55b8e531e5a54d7a86dcecc258c13790
          name: 'Maximum number of processes'
          type: ZABBIX_ACTIVE
          key: kernel.maxproc
          delay: 24h
          history: 1w
          trends: 180d
          description: 'It could be increased by using sysctrl utility or modifying file /etc/sysctl.conf.'
          tags:
            - tag: Application
              value: OS
        - uuid: bb6a768ba71e401f90a037a8bd4655ae
          name: 'Number of running processes'
          type: ZABBIX_ACTIVE
          key: 'proc.num[,,run]'
          history: 1w
          trends: 180d
          description: 'Number of processes in running state.'
          tags:
            - tag: Application
              value: Processes
          triggers:
            - uuid: 59fc0acf26be4691ba9a04f1297d4870
              expression: 'avg(/Linux Host  - Ativo/proc.num[,,run],5m)>30'
              name: 'Too many processes running'
              status: DISABLED
              priority: WARNING
        - uuid: 80102a4cd19a42c1862f86893bfec3fa
          name: 'Number of processes'
          type: ZABBIX_ACTIVE
          key: 'proc.num[]'
          history: 1w
          trends: 180d
          description: 'Total number of processes in any state.'
          tags:
            - tag: Application
              value: Processes
          triggers:
            - uuid: b893e2bbde384b6d96cbf62dd708d4b6
              expression: 'avg(/Linux Host  - Ativo/proc.num[],1m)>400'
              name: 'Too many processes on {HOST.NAME}'
              status: DISABLED
              priority: WARNING
        - uuid: 2aea3f46bd124416ad0254a9a81855c7
          name: 'Host boot time'
          type: ZABBIX_ACTIVE
          key: system.boottime
          delay: 24h
          history: 1w
          trends: 180d
          units: unixtime
          tags:
            - tag: Application
              value: General
            - tag: Application
              value: OS
        - uuid: 2503cc70133049f988ba17dd04a07b4c
          name: 'Interrupts per second'
          type: ZABBIX_ACTIVE
          key: system.cpu.intr
          history: 1w
          trends: 180d
          units: ips
          preprocessing:
            - type: CHANGE_PER_SECOND
              parameters:
                - ''
          tags:
            - tag: Application
              value: CPU
            - tag: Application
              value: Performance
        - uuid: 28e363f8732c4143a7bfd2a2fe26e2e6
          name: 'Processor load (1 min average per core)'
          type: ZABBIX_ACTIVE
          key: 'system.cpu.load[percpu,avg1]'
          history: 1w
          value_type: FLOAT
          trends: 180d
          description: 'The processor load is calculated as system CPU load divided by number of CPU cores.'
          tags:
            - tag: Application
              value: CPU
            - tag: Application
              value: Performance
          triggers:
            - uuid: 9be795b604fa47118cbf303d4835cca3
              expression: 'avg(/Linux Host  - Ativo/system.cpu.load[percpu,avg1],5m)>5'
              name: 'Processor load is too high on {HOST.NAME}'
              status: DISABLED
              priority: AVERAGE
        - uuid: 659458d24c9c4d5291d4132f6a3b20e5
          name: 'Processor load (5 min average per core)'
          type: ZABBIX_ACTIVE
          key: 'system.cpu.load[percpu,avg5]'
          history: 1w
          value_type: FLOAT
          trends: 180d
          description: 'The processor load is calculated as system CPU load divided by number of CPU cores.'
          tags:
            - tag: Application
              value: CPU
            - tag: Application
              value: Performance
        - uuid: 99175fd4c2054d9abf8cbe76a63d7ad8
          name: 'Processor load (15 min average per core)'
          type: ZABBIX_ACTIVE
          key: 'system.cpu.load[percpu,avg15]'
          history: 1w
          value_type: FLOAT
          trends: 180d
          description: 'The processor load is calculated as system CPU load divided by number of CPU cores.'
          tags:
            - tag: Application
              value: CPU
            - tag: Application
              value: Performance
        - uuid: df4e7d08016e4dad9256eca15acba7bc
          name: 'Context switches per second'
          type: ZABBIX_ACTIVE
          key: system.cpu.switches
          history: 1w
          trends: 180d
          units: sps
          preprocessing:
            - type: CHANGE_PER_SECOND
              parameters:
                - ''
          tags:
            - tag: Application
              value: CPU
            - tag: Application
              value: Performance
        - uuid: 3eb10fbba66a4ae3a6ed60f8194a44dc
          name: 'CPU utilization'
          type: DEPENDENT
          key: system.cpu.util
          delay: '0'
          history: 1w
          value_type: FLOAT
          units: '%'
          description: 'The CPU utilization expressed in %.'
          preprocessing:
            - type: JAVASCRIPT
              parameters:
                - |
                  //Calculate utilization
                  return (100 - value)
          master_item:
            key: 'system.cpu.util[,idle]'
          tags:
            - tag: Application
              value: CPU
            - tag: Application
              value: Performance
        - uuid: c3c1367ebaef491485ee76f0e7e4630c
          name: 'CPU idle time'
          type: ZABBIX_ACTIVE
          key: 'system.cpu.util[,idle]'
          history: 1w
          value_type: FLOAT
          trends: 180d
          units: '%'
          description: 'The time the CPU has spent doing nothing.'
          tags:
            - tag: Application
              value: CPU
            - tag: Application
              value: Performance
        - uuid: f82e9ea4ada640f5b8913f087760a7a9
          name: 'CPU interrupt time'
          type: ZABBIX_ACTIVE
          key: 'system.cpu.util[,interrupt]'
          history: 1w
          value_type: FLOAT
          trends: 180d
          units: '%'
          description: 'The amount of time the CPU has been servicing hardware interrupts.'
          tags:
            - tag: Application
              value: CPU
            - tag: Application
              value: Performance
        - uuid: 4895530a543f4f88b298059e51f36c56
          name: 'CPU iowait time'
          type: ZABBIX_ACTIVE
          key: 'system.cpu.util[,iowait]'
          history: 1w
          value_type: FLOAT
          trends: 180d
          units: '%'
          description: 'Amount of time the CPU has been waiting for I/O to complete.'
          tags:
            - tag: Application
              value: CPU
            - tag: Application
              value: Performance
          triggers:
            - uuid: d6e8705f202449e392dec4636a93427a
              expression: 'avg(/Linux Host  - Ativo/system.cpu.util[,iowait],5m)>20'
              name: 'Disk I/O is overloaded'
              priority: WARNING
              description: 'OS spends significant time waiting for I/O (input/output) operations. It could be indicator of performance issues with storage system.'
        - uuid: f33d27519d2c4b81b783ddb90d32d130
          name: 'CPU nice time'
          type: ZABBIX_ACTIVE
          key: 'system.cpu.util[,nice]'
          history: 1w
          value_type: FLOAT
          trends: 180d
          units: '%'
          description: 'The time the CPU has spent running users'' processes that have been niced.'
          tags:
            - tag: Application
              value: CPU
            - tag: Application
              value: Performance
        - uuid: 8d73992641454f238d9f87cb2c6a4f03
          name: 'CPU softirq time'
          type: ZABBIX_ACTIVE
          key: 'system.cpu.util[,softirq]'
          history: 1w
          value_type: FLOAT
          trends: 180d
          units: '%'
          description: 'The amount of time the CPU has been servicing software interrupts.'
          tags:
            - tag: Application
              value: CPU
            - tag: Application
              value: Performance
        - uuid: ecf3e40255d24c088dc0270e10b5b670
          name: 'CPU steal time'
          type: ZABBIX_ACTIVE
          key: 'system.cpu.util[,steal]'
          history: 1w
          value_type: FLOAT
          trends: 180d
          units: '%'
          description: 'The amount of CPU ''stolen'' from this virtual machine by the hypervisor for other tasks (such as running another virtual machine).'
          tags:
            - tag: Application
              value: CPU
            - tag: Application
              value: Performance
        - uuid: 9cc16059ab2d4c4dbceb51c2c4761c1a
          name: 'CPU system time'
          type: ZABBIX_ACTIVE
          key: 'system.cpu.util[,system]'
          history: 1w
          value_type: FLOAT
          trends: 180d
          units: '%'
          description: 'The time the CPU has spent running the kernel and its processes.'
          tags:
            - tag: Application
              value: CPU
            - tag: Application
              value: Performance
        - uuid: 258916d5613440b99078a58ab53a1c56
          name: 'CPU user time'
          type: ZABBIX_ACTIVE
          key: 'system.cpu.util[,user]'
          history: 1w
          value_type: FLOAT
          trends: 180d
          units: '%'
          description: 'The time the CPU has spent running users'' processes that are not niced.'
          tags:
            - tag: Application
              value: CPU
            - tag: Application
              value: Performance
        - uuid: 12e2e73607034288bb70752e201e5f55
          name: 'Host name'
          type: ZABBIX_ACTIVE
          key: system.hostname
          delay: 24h
          history: 1w
          value_type: CHAR
          trends: '0'
          description: 'System host name.'
          inventory_link: NAME
          tags:
            - tag: Application
              value: General
            - tag: Application
              value: OS
        - uuid: ac8a9fbb676b4d0b992a315c632064fb
          name: 'Host local time'
          type: ZABBIX_ACTIVE
          key: system.localtime
          history: 1w
          trends: 180d
          units: unixtime
          tags:
            - tag: Application
              value: General
            - tag: Application
              value: OS
        - uuid: bba40d598aeb40bfa4b0c2449721045a
          name: 'Free swap space'
          type: ZABBIX_ACTIVE
          key: 'system.swap.size[,free]'
          history: 1w
          trends: 180d
          units: B
          tags:
            - tag: Application
              value: Memory
        - uuid: af1b00f1bc2645a281b4b7d693547797
          name: 'Free swap space in %'
          type: ZABBIX_ACTIVE
          key: 'system.swap.size[,pfree]'
          history: 1w
          value_type: FLOAT
          trends: 180d
          units: '%'
          tags:
            - tag: Application
              value: Memory
          triggers:
            - uuid: c23971f479ea476ab935e2e2919bd588
              expression: 'last(/Linux Host  - Ativo/system.swap.size[,pfree])<50'
              name: 'Lack of free swap space'
              priority: WARNING
              description: 'It probably means that the systems requires more physical memory.'
        - uuid: 4fd2dcc15cfd4a91b57b00f77355d19d
          name: 'Total swap space'
          type: ZABBIX_ACTIVE
          key: 'system.swap.size[,total]'
          delay: '60'
          history: 1w
          trends: 180d
          units: B
          tags:
            - tag: Application
              value: Memory
        - uuid: 9f01722d251548bf84adfc0aa1eb3c38
          name: 'System information'
          type: ZABBIX_ACTIVE
          key: system.uname
          delay: 24h
          history: 1w
          value_type: CHAR
          trends: '0'
          description: 'The information as normally returned by ''uname -a''.'
          inventory_link: OS
          tags:
            - tag: Application
              value: General
            - tag: Application
              value: OS
        - uuid: d03f7c331a924c8f86bc4ac7c38b7445
          name: 'System uptime'
          type: ZABBIX_ACTIVE
          key: system.uptime
          delay: 24h
          history: 1w
          trends: 180d
          units: uptime
          tags:
            - tag: Application
              value: General
            - tag: Application
              value: OS
        - uuid: 84ae0d1da5814d5ab528b7db2b60431a
          name: 'Number of logged in users'
          type: ZABBIX_ACTIVE
          key: system.users.num
          delay: 24h
          history: 1w
          trends: 180d
          description: 'Number of users who are currently logged in.'
          tags:
            - tag: Application
              value: OS
            - tag: Application
              value: Security
        - uuid: 38726d686eb64328be14d58bd0eff831
          name: 'Checksum of $1'
          type: ZABBIX_ACTIVE
          key: 'vfs.file.cksum[/etc/passwd]'
          delay: 24h
          history: 1w
          trends: 180d
          tags:
            - tag: Application
              value: Security
        - uuid: 7475519423fc4beaae4a5656de0448a8
          name: 'Active memory'
          type: ZABBIX_ACTIVE
          key: 'vm.memory.size[active]'
          history: 1w
          value_type: FLOAT
          units: B
          tags:
            - tag: Application
              value: Memory
        - uuid: dbaf31b03ddc4f20bc616445ba0319b9
          name: 'Available memory'
          type: ZABBIX_ACTIVE
          key: 'vm.memory.size[available]'
          history: 1w
          trends: 180d
          units: B
          description: 'Available memory is defined as free+cached+buffers memory.'
          tags:
            - tag: Application
              value: Memory
          triggers:
            - uuid: b6f441a4ae9a449fa8dd0584cc77eba9
              expression: 'last(/Linux Host  - Ativo/vm.memory.size[available])<20M'
              name: 'Lack of available memory on server'
              priority: AVERAGE
        - uuid: d1a484c014fe4254b729b6ed2efdb98a
          name: 'Free memory'
          type: ZABBIX_ACTIVE
          key: 'vm.memory.size[free]'
          history: 90d
          units: B
          description: 'memory that is readily available to any entity requesting memory'
          tags:
            - tag: Application
              value: Memory
        - uuid: 975367d8516b41958bb92161b1a4fe4d
          name: 'Available memory in %'
          type: ZABBIX_ACTIVE
          key: 'vm.memory.size[pavailable]'
          history: 90d
          value_type: FLOAT
          units: '%'
          tags:
            - tag: Application
              value: Memory
        - uuid: db77efa87d29451b93cf3bf58792bcc4
          name: 'Total memory'
          type: ZABBIX_ACTIVE
          key: 'vm.memory.size[total]'
          delay: '60'
          history: 1w
          trends: 180d
          units: B
          tags:
            - tag: Application
              value: Memory
        - uuid: 10a6ce171c9f41f59b9fde67b44bb769
          name: 'Used memory'
          type: ZABBIX_ACTIVE
          key: 'vm.memory.size[used]'
          history: 90d
          units: B
          tags:
            - tag: Application
              value: Memory
        - uuid: 7918f9a45e2b464a8c7708f0cc8308fb
          name: 'Memory utilization'
          type: DEPENDENT
          key: vm.memory.utilization
          delay: '0'
          history: 1w
          value_type: FLOAT
          units: '%'
          preprocessing:
            - type: JAVASCRIPT
              parameters:
                - 'return (100-value);'
          master_item:
            key: 'vm.memory.size[pavailable]'
          tags:
            - tag: Application
              value: Memory
      discovery_rules:
        - uuid: c708edd292734eb09ecc61d6b6c7dfb2
          name: 'Network interface discovery'
          type: ZABBIX_ACTIVE
          key: net.if.discovery
          delay: '60'
          filter:
            conditions:
              - macro: '{#IFNAME}'
                value: '@Network interfaces for discovery'
                formulaid: A
          lifetime: 30d
          enabled_lifetime_type: DISABLE_NEVER
          description: 'Discovery of network interfaces as defined in global regular expression "Network interfaces for discovery".'
          item_prototypes:
            - uuid: 07eae94979c448c6b978c29907de3db2
              name: 'Incoming network traffic on $1'
              type: ZABBIX_ACTIVE
              key: 'net.if.in[{#IFNAME}]'
              history: 1w
              units: bps
              preprocessing:
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '8'
              tags:
                - tag: Application
                  value: 'Network interfaces'
            - uuid: 7c270abee36e4d808e1fce1edbd9e786
              name: 'Outgoing network traffic on $1'
              type: ZABBIX_ACTIVE
              key: 'net.if.out[{#IFNAME}]'
              history: 1w
              units: bps
              preprocessing:
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '8'
              tags:
                - tag: Application
                  value: 'Network interfaces'
          graph_prototypes:
            - uuid: be8f71855a4a4f0baed82175caf46652
              name: 'Network traffic on {#IFNAME}'
              ymin_type_1: FIXED
              graph_items:
                - drawtype: GRADIENT_LINE
                  color: 00AA00
                  item:
                    host: 'Linux Host  - Ativo'
                    key: 'net.if.in[{#IFNAME}]'
                - sortorder: '1'
                  drawtype: GRADIENT_LINE
                  color: 3333FF
                  item:
                    host: 'Linux Host  - Ativo'
                    key: 'net.if.out[{#IFNAME}]'
        - uuid: 5763d1a4d6304519b28f36cfb782ea03
          name: 'Descoberta de NÃºcleos de CPU'
          type: ZABBIX_ACTIVE
          key: system.cpu.discovery
          filter:
            conditions:
              - macro: '{#CPU.NUMBER}'
                formulaid: A
              - macro: '{#CPU.STATUS}'
                value: online
                formulaid: B
          lifetime: 30d
          enabled_lifetime_type: DISABLE_NEVER
          item_prototypes:
            - uuid: 6820c9c79f9d4f588a831db0569cf5ee
              name: 'CPU utilization core {#CPU.NUMBER}'
              type: ZABBIX_ACTIVE
              key: 'system.cpu.util[{#CPU.NUMBER}]'
              value_type: FLOAT
              units: '%'
              tags:
                - tag: Application
                  value: core
        - uuid: 238c97a52ea1430f827aef7eb4c6915f
          name: 'Block devices discovery'
          type: ZABBIX_ACTIVE
          key: vfs.dev.discovery
          delay: 1h
          filter:
            conditions:
              - macro: '{#DEVNAME}'
                value: '{$VFS.DEV.DEVNAME.MATCHES}'
                formulaid: A
              - macro: '{#DEVNAME}'
                value: '{$VFS.DEV.DEVNAME.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
                formulaid: B
              - macro: '{#DEVTYPE}'
                value: disk
                formulaid: C
          lifetime: 30d
          enabled_lifetime_type: DISABLE_NEVER
          item_prototypes:
            - uuid: 779317fcc70441818c8f0c7fbf8315fa
              name: '{#DEVNAME}: Disk average queue size (avgqu-sz)'
              type: DEPENDENT
              key: 'vfs.dev.queue_size[{#DEVNAME}]'
              delay: '0'
              history: 7d
              value_type: FLOAT
              description: 'The current average disk queue; the number of requests outstanding on the disk while the performance data is being collected.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$[10]'
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              master_item:
                key: 'vfs.file.contents[/sys/block/{#DEVNAME}/stat]'
              tags:
                - tag: Application
                  value: raw
                - tag: disk
                  value: '{#DEVNAME}'
            - uuid: 971e819e17814b6792d113ed8dd70f2b
              name: '{#DEVNAME}: Disk read request avg waiting time (r_await)'
              type: CALCULATED
              key: 'vfs.dev.read.await[{#DEVNAME}]'
              history: 7d
              value_type: FLOAT
              units: '!ms'
              params: '(last(//vfs.dev.read.time.rate[{#DEVNAME}])/(last(//vfs.dev.read.rate[{#DEVNAME}])+(last(//vfs.dev.read.rate[{#DEVNAME}])=0)))*1000*(last(//vfs.dev.read.rate[{#DEVNAME}]) > 0)'
              description: 'This formula contains two Boolean expressions that evaluate to 1 or 0 in order to set the calculated metric to zero and to avoid the exception - division by zero.'
              tags:
                - tag: Application
                  value: raw
                - tag: disk
                  value: '{#DEVNAME}'
            - uuid: a61badb6ac794719b41090663c55ba86
              name: '{#DEVNAME}: Disk read rate'
              type: DEPENDENT
              key: 'vfs.dev.read.rate[{#DEVNAME}]'
              delay: '0'
              history: 7d
              value_type: FLOAT
              units: '!r/s'
              description: 'r/s (read operations per second) - the number (after merges) of read requests completed per second for the device.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$[0]'
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              master_item:
                key: 'vfs.file.contents[/sys/block/{#DEVNAME}/stat]'
              tags:
                - tag: Application
                  value: raw
                - tag: disk
                  value: '{#DEVNAME}'
            - uuid: cdeafb77319c4d8ea1aa12f69404fbf8
              name: '{#DEVNAME}: Disk read time (rate)'
              type: DEPENDENT
              key: 'vfs.dev.read.time.rate[{#DEVNAME}]'
              delay: '0'
              history: 7d
              value_type: FLOAT
              description: 'The rate of total read time counter; used in `r_await` calculation.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$[3]'
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              master_item:
                key: 'vfs.file.contents[/sys/block/{#DEVNAME}/stat]'
              tags:
                - tag: Application
                  value: raw
                - tag: disk
                  value: '{#DEVNAME}'
            - uuid: 971da6d6d99c4476bcd9ea0ca94ecf7a
              name: '{#DEVNAME}: Disk utilization'
              type: DEPENDENT
              key: 'vfs.dev.util[{#DEVNAME}]'
              delay: '0'
              history: 7d
              value_type: FLOAT
              description: 'The rate of total write time counter; used in `w_await` calculation.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$[9]'
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '0.1'
              master_item:
                key: 'vfs.file.contents[/sys/block/{#DEVNAME}/stat]'
              tags:
                - tag: Application
                  value: raw
                - tag: disk
                  value: '{#DEVNAME}'
            - uuid: b4fced8e67704bec9f095f995288634a
              name: '{#DEVNAME}: Disk write request avg waiting time (w_await)'
              type: CALCULATED
              key: 'vfs.dev.write.await[{#DEVNAME}]'
              history: 7d
              value_type: FLOAT
              units: '!ms'
              params: '(last(//vfs.dev.write.time.rate[{#DEVNAME}])/(last(//vfs.dev.write.rate[{#DEVNAME}])+(last(//vfs.dev.write.rate[{#DEVNAME}])=0)))*1000*(last(//vfs.dev.write.rate[{#DEVNAME}]) > 0)'
              description: 'This formula contains two Boolean expressions that evaluate to 1 or 0 in order to set the calculated metric to zero and to avoid the exception - division by zero.'
              tags:
                - tag: Application
                  value: raw
                - tag: disk
                  value: '{#DEVNAME}'
            - uuid: 3a25abc953384938976d0305e2c80b75
              name: '{#DEVNAME}: Disk write rate'
              type: DEPENDENT
              key: 'vfs.dev.write.rate[{#DEVNAME}]'
              delay: '0'
              history: 7d
              value_type: FLOAT
              units: '!w/s'
              description: 'w/s (write operations per second) - the number (after merges) of write requests completed per second for the device.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$[4]'
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              master_item:
                key: 'vfs.file.contents[/sys/block/{#DEVNAME}/stat]'
              tags:
                - tag: Application
                  value: raw
                - tag: disk
                  value: '{#DEVNAME}'
            - uuid: 3320c0dd25854059ad412f7d03631101
              name: '{#DEVNAME}: Disk write time (rate)'
              type: DEPENDENT
              key: 'vfs.dev.write.time.rate[{#DEVNAME}]'
              delay: '0'
              history: 7d
              value_type: FLOAT
              description: 'The current average disk queue; the number of requests outstanding on the disk while the performance data is being collected.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$[7]'
                - type: CHANGE_PER_SECOND
                  parameters:
                    - ''
                - type: MULTIPLIER
                  parameters:
                    - '0.001'
              master_item:
                key: 'vfs.file.contents[/sys/block/{#DEVNAME}/stat]'
              tags:
                - tag: Application
                  value: raw
                - tag: disk
                  value: '{#DEVNAME}'
            - uuid: 5437cf0b14c243818c6d7463b3f7379f
              name: '{#DEVNAME}: Get stats'
              type: ZABBIX_ACTIVE
              key: 'vfs.file.contents[/sys/block/{#DEVNAME}/stat]'
              history: 7d
              value_type: TEXT
              trends: '0'
              description: 'The contents of get `/sys/block/{#DEVNAME}/stat` to get the disk statistics.'
              preprocessing:
                - type: JAVASCRIPT
                  parameters:
                    - 'return JSON.stringify(value.trim().split(/ +/));'
              tags:
                - tag: Application
                  value: raw
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
        - uuid: b532cdd7747745d18ffb37bbfcadfe0d
          name: 'Mounted filesystem discovery'
          type: ZABBIX_ACTIVE
          key: vfs.fs.discovery
          delay: '60'
          filter:
            conditions:
              - macro: '{#FSTYPE}'
                value: '@File systems for discovery'
                formulaid: A
          lifetime: 30d
          enabled_lifetime_type: DISABLE_NEVER
          description: 'Discovery of file systems of different types as defined in global regular expression "File systems for discovery".'
          item_prototypes:
            - uuid: 9a49244ea136411b8477359a46c10b14
              name: 'Free inodes on $1 %'
              type: ZABBIX_ACTIVE
              key: 'vfs.fs.inode[{#FSNAME},pfree]'
              value_type: FLOAT
              trends: 180d
              units: '%'
              tags:
                - tag: Application
                  value: Filesystems
              trigger_prototypes:
                - uuid: 36134d4d5eb84fdfbb305f307aa112aa
                  expression: 'last(/Linux Host  - Ativo/vfs.fs.inode[{#FSNAME},pfree])<10'
                  name: 'Free inodes is less than 10% on volume {#FSNAME}'
                  priority: AVERAGE
                - uuid: 880244827a464171aca952e21e04f108
                  expression: 'last(/Linux Host  - Ativo/vfs.fs.inode[{#FSNAME},pfree])<20'
                  name: 'Free inodes is less than 20% on volume {#FSNAME}'
                  priority: WARNING
                  dependencies:
                    - name: 'Free inodes is less than 10% on volume {#FSNAME}'
                      expression: 'last(/Linux Host  - Ativo/vfs.fs.inode[{#FSNAME},pfree])<10'
            - uuid: 8268445c79fd483683f5dc01efb63cd4
              name: 'Free disk space on $1'
              type: ZABBIX_ACTIVE
              key: 'vfs.fs.size[{#FSNAME},free]'
              trends: 180d
              units: B
              tags:
                - tag: Application
                  value: Filesystems
            - uuid: 1809b4b2be39481986c6f2a8da55e8ef
              name: 'Free disk space on $1 %'
              type: ZABBIX_ACTIVE
              key: 'vfs.fs.size[{#FSNAME},pfree]'
              value_type: FLOAT
              trends: 180d
              units: '%'
              tags:
                - tag: Application
                  value: Filesystems
              trigger_prototypes:
                - uuid: edca0317183b453c944c31f11c73875d
                  expression: 'last(/Linux Host  - Ativo/vfs.fs.size[{#FSNAME},pfree])<5'
                  name: 'Free disk space is less than 5% on volume {#FSNAME}'
                  priority: DISASTER
                - uuid: ddd86f6e7c28402c885553ec726e1f1e
                  expression: 'last(/Linux Host  - Ativo/vfs.fs.size[{#FSNAME},pfree])<10'
                  name: 'Free disk space is less than 10% on volume {#FSNAME}'
                  priority: AVERAGE
                  dependencies:
                    - name: 'Free disk space is less than 5% on volume {#FSNAME}'
                      expression: 'last(/Linux Host  - Ativo/vfs.fs.size[{#FSNAME},pfree])<5'
                - uuid: ee1adbab67df43c88d0eef08b97625f7
                  expression: 'last(/Linux Host  - Ativo/vfs.fs.size[{#FSNAME},pfree])<20'
                  name: 'Free disk space is less than 20% on volume {#FSNAME}'
                  priority: WARNING
                  dependencies:
                    - name: 'Free disk space is less than 10% on volume {#FSNAME}'
                      expression: 'last(/Linux Host  - Ativo/vfs.fs.size[{#FSNAME},pfree])<10'
            - uuid: b17e31d0ee9441a8a463c27742b7e69f
              name: 'Used disk space on $1 %'
              type: ZABBIX_ACTIVE
              key: 'vfs.fs.size[{#FSNAME},pused]'
              value_type: FLOAT
              trends: 180d
              units: '%'
              tags:
                - tag: Application
                  value: Filesystems
            - uuid: cdca1a9334e44a208bc44383cb8ca426
              name: 'Total disk space on $1'
              type: ZABBIX_ACTIVE
              key: 'vfs.fs.size[{#FSNAME},total]'
              delay: 24h
              trends: 180d
              units: B
              tags:
                - tag: Application
                  value: Filesystems
            - uuid: 91f1187788644e4a89e47a8296980ec8
              name: 'Used disk space on $1'
              type: ZABBIX_ACTIVE
              key: 'vfs.fs.size[{#FSNAME},used]'
              trends: 180d
              units: B
              tags:
                - tag: Application
                  value: Filesystems
          graph_prototypes:
            - uuid: 9f85d7d3af284fff963ef7cad16ffe00
              name: 'Disk space usage {#FSNAME}'
              width: '600'
              height: '340'
              show_work_period: 'NO'
              show_triggers: 'NO'
              type: PIE
              show_3d: 'YES'
              graph_items:
                - color: C80000
                  type: GRAPH_SUM
                  item:
                    host: 'Linux Host  - Ativo'
                    key: 'vfs.fs.size[{#FSNAME},total]'
                - sortorder: '1'
                  color: 00C800
                  item:
                    host: 'Linux Host  - Ativo'
                    key: 'vfs.fs.size[{#FSNAME},free]'
      dashboards:
        - uuid: 00091ded13ae410097b47b908a1e237e
          name: 'System performance'
          pages:
            - widgets:
                - type: graph
                  width: '36'
                  height: '5'
                  fields:
                    - type: GRAPH
                      name: graphid
                      value:
                        host: 'Linux Host  - Ativo'
                        name: 'CPU load'
                    - type: STRING
                      name: reference
                      value: AAAAA
                    - type: INTEGER
                      name: source_type
                      value: '0'
                - type: graph
                  'y': '5'
                  width: '36'
                  height: '7'
                  fields:
                    - type: GRAPH
                      name: graphid
                      value:
                        host: 'Linux Host  - Ativo'
                        name: 'Memory usage'
                    - type: STRING
                      name: reference
                      value: AAAAB
                    - type: INTEGER
                      name: source_type
                      value: '0'
                - type: graph
                  'y': '12'
                  width: '36'
                  height: '5'
                  fields:
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Linux Host  - Ativo'
                        key: 'proc.num[]'
                    - type: STRING
                      name: reference
                      value: AAAAC
                    - type: INTEGER
                      name: source_type
                      value: '1'
                - type: graph
                  x: '36'
                  width: '36'
                  height: '5'
                  fields:
                    - type: GRAPH
                      name: graphid
                      value:
                        host: 'Linux Host  - Ativo'
                        name: 'CPU utilization'
                    - type: STRING
                      name: reference
                      value: AAAAD
                    - type: INTEGER
                      name: source_type
                      value: '0'
                - type: graph
                  x: '36'
                  'y': '5'
                  width: '36'
                  height: '7'
                  fields:
                    - type: GRAPH
                      name: graphid
                      value:
                        host: 'Linux Host  - Ativo'
                        name: 'Swap usage'
                    - type: STRING
                      name: reference
                      value: AAAAE
                    - type: INTEGER
                      name: source_type
                      value: '0'
                - type: graph
                  x: '36'
                  'y': '12'
                  width: '36'
                  height: '5'
                  fields:
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Linux Host  - Ativo'
                        key: 'proc.num[,,run]'
                    - type: STRING
                      name: reference
                      value: AAAAF
                    - type: INTEGER
                      name: source_type
                      value: '1'
  triggers:
    - uuid: 52a5636cfdfa4514a84ed97290c31fe7
      expression: 'max(/Linux Host  - Ativo/icmpping,5m)=0'
      name: 'Unavailable by ICMP ping'
      priority: HIGH
      description: |
        Last value: {ITEM.LASTVALUE1}.
        Last three attempts returned timeout.  Please check device connectivity.
  graphs:
    - uuid: f85c23cad384412db75bf738d5615281
      name: 'CPU jumps'
      graph_items:
        - color: '009900'
          item:
            host: 'Linux Host  - Ativo'
            key: system.cpu.switches
        - sortorder: '1'
          color: '000099'
          item:
            host: 'Linux Host  - Ativo'
            key: system.cpu.intr
    - uuid: bb7bc5dc21fa4a03a700ca2fa6f069b1
      name: 'CPU load'
      ymin_type_1: FIXED
      graph_items:
        - color: '009900'
          item:
            host: 'Linux Host  - Ativo'
            key: 'system.cpu.load[percpu,avg1]'
        - sortorder: '1'
          color: '000099'
          item:
            host: 'Linux Host  - Ativo'
            key: 'system.cpu.load[percpu,avg5]'
        - sortorder: '2'
          color: '990000'
          item:
            host: 'Linux Host  - Ativo'
            key: 'system.cpu.load[percpu,avg15]'
    - uuid: 10c139b27b5345ae92d155c1cbb0884b
      name: 'CPU utilization'
      show_triggers: 'NO'
      type: STACKED
      ymin_type_1: FIXED
      ymax_type_1: FIXED
      graph_items:
        - drawtype: FILLED_REGION
          color: FF5555
          item:
            host: 'Linux Host  - Ativo'
            key: 'system.cpu.util[,steal]'
        - sortorder: '1'
          drawtype: FILLED_REGION
          color: 55FF55
          item:
            host: 'Linux Host  - Ativo'
            key: 'system.cpu.util[,softirq]'
        - sortorder: '2'
          drawtype: FILLED_REGION
          color: '009999'
          item:
            host: 'Linux Host  - Ativo'
            key: 'system.cpu.util[,interrupt]'
        - sortorder: '3'
          drawtype: FILLED_REGION
          color: '990099'
          item:
            host: 'Linux Host  - Ativo'
            key: 'system.cpu.util[,nice]'
        - sortorder: '4'
          drawtype: FILLED_REGION
          color: '999900'
          item:
            host: 'Linux Host  - Ativo'
            key: 'system.cpu.util[,iowait]'
        - sortorder: '5'
          drawtype: FILLED_REGION
          color: '990000'
          item:
            host: 'Linux Host  - Ativo'
            key: 'system.cpu.util[,system]'
        - sortorder: '6'
          drawtype: FILLED_REGION
          color: '000099'
          item:
            host: 'Linux Host  - Ativo'
            key: 'system.cpu.util[,user]'
        - sortorder: '7'
          drawtype: FILLED_REGION
          color: '009900'
          item:
            host: 'Linux Host  - Ativo'
            key: 'system.cpu.util[,idle]'
    - uuid: 497ba04993c4475c934773cfef5f438d
      name: 'Memory usage'
      ymin_type_1: FIXED
      ymax_type_1: ITEM
      ymax_item_1:
        host: 'Linux Host  - Ativo'
        key: 'vm.memory.size[total]'
      graph_items:
        - drawtype: GRADIENT_LINE
          color: 00C800
          item:
            host: 'Linux Host  - Ativo'
            key: 'vm.memory.size[available]'
    - uuid: 300680ead02e41d49ca1cc1ffb9b5603
      name: 'Swap usage'
      width: '600'
      height: '340'
      show_work_period: 'NO'
      show_triggers: 'NO'
      type: PIE
      show_3d: 'YES'
      graph_items:
        - color: AA0000
          type: GRAPH_SUM
          item:
            host: 'Linux Host  - Ativo'
            key: 'system.swap.size[,total]'
        - sortorder: '1'
          color: 00AA00
          item:
            host: 'Linux Host  - Ativo'
            key: 'system.swap.size[,free]'
